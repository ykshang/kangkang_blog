# 24、如何去优化异步请求的使用体验

## 1、请求处理中

- **显示加载中状态：** 当发起 Ajax 请求时，可以显示一个加载状态的指示器，以**告知用户请求正在进行中**。这可以是一个旋转的加载图标、加载动画或进度条等。这样用户就能明确地知道页面正在获取数据或进行处理。

- **禁止操作页面：** 在请求进行中时，可以将相关操作禁用或隐藏，以**防止用户在请求完成之前重复提交或进行其他操作**。这有助于防止用户引发意外的行为或导致数据错误。

## 2、请求结束

- **处理成功响应**：当 Ajax 请求成功返回结果时，可以通过回调函数或事件处理程序来更新页面内容或执行其他操作。例如，可以更新特定的页面区域、刷新列表或显示成功消息。根据应用的需求，可以采用适当的方式来展示加载完成的状态。

- **处理错误响应**：Ajax 请求可能会失败或返回**错误状态码**。在这种情况下，可以显示适当的错误消息，以向用户说明发生了什么问题，并提供解决方案或重新尝试请求的选项。
- **超时处理**：如果请求花费的时间超过预设的时间限制，可以考虑触发超时处理。这可以是显示超时消息、重新尝试请求或提供其他替代方案。
- **封装统一的错误处理和提示方式**：在处理 Ajax 请求时，务必捕获并处理潜在的错误，例如**网络错误、无响应或服务器错误**。我们可以封装统一样式工具类，来处理弹窗和错误信息。

## 3、中断请求

如果用户在请求进行中时需要取消请求，可以提供一个取消按钮或选项。这样用户就有能力取消请求，以避免不必要的等待或减少服务端资源的浪费。
