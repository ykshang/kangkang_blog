# 正向代理和反向代理

## 概念

### 正向代理

正向代理是一个位于客户端和目标服务器之间的代理服务器（中间服务器）。为了从目标服务器取得内容，客户端向代理服务器发送一个请求，并且指定目标服务器，之后代理向目标服务器转发请求，将获得的内容返回给客户端。正向代理的情况下，客户端必须要进行一些特殊的设置才能使用。正向代理需要主动设置代理服务器ip或者域名进行访问，由设置的服务器ip或者域名去访问内容并返回

**正向代理是代理客户端，为客户端收发请求，目标服务器不知道真实的客户端是谁。**

::: tip 主要应用
**突破访问显示**：通过代理服务器，可以突破自身ip访问限制，访问国外网站等

**提高访问速度**：通常代理服务器都设置一个较大的硬盘缓冲区，会将部分请求的响应保存到缓冲区中，当其他用户再访问相同的信息时，则直接由缓冲区中取出信息，传给用户，以提高访问速度

**隐藏客户端真实IP**：上网者可以通过正向代理的方法隐藏自己的ip，免受攻击
:::

### 反向代理

反向代理是指以代理服务器来接收客户端的请求，然后将请求转发给内部网络上的服务器，将从服务器上得到的结果返回给客户端，此时代理服务器对外表现为一个反向代理服务器。对于客户端来说，反向代理就相当于目标服务器，只需要将反向代理当作目标服务器一样发送请求就可以了，并且客户端不需要进行任何设置。

**反向代理是代理服务器，为服务器收发请求，客户端不知道真实的目标服务器是谁。**

::: tip 主要应用
**隐藏服务器真实IP**：使用反向代理，可以对客户端隐藏服务器的ip地址  

**负载均衡**：反向代理服务器可以做负载均衡，根据所有真实服务器的负载情况，将客户端请求分发到不同的真实服务器上  

**提高访问速度**：反向代理服务器可以对静态内容及短时间内有大量访问请求的动态内容提供缓存服务，提高访问速度  

**提供安全保障（防火墙）**：反向代理服务器可以作为应用层防火墙，为网站提供对基于web的攻击行为（例如DoS/DDoS）的防护，更容易排查恶意软件等。还可以为后端服务器统一提供加密和SSL加速（如SSL终端代理），提供HTTP访问认证等。
:::

## 二者异同点

### 相同点

正向代理和反向代理所处的代理服务器都是客户端和真实服务器之间，所做的事情也都是把客户端的请求转发给服务器，再把服务器的响应转发给客户端。

### 不同点

正向代理是客户端的代理，服务器不知道真正的客户端是谁；反向代理是服务器的代理，客户端不知道真正的服务器是谁

正向代理一般是客户端架设的；反向代理一般是服务器架设的

正向代理主要是用来解决访问限制问题；反向代理则是提供负载均衡、安全防护等作用。二者都能提高访问速度
