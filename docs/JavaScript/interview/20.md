# this的指向

## 1. 全局作用域中的this

在全局作用域中，this引用全局对象：
- 浏览器环境中是window对象
- Node.js环境中是global对象

## 2. 函数中的this
在函数中，this的值取决于函数是如何被调用的：

- 如果函数作为普通函数（`fun()`）调用（不是作为对象的方法或构造函数），this指向全局对象（非严格模式）或undefined（严格模式）。
- 如果函数作为对象的方法（`obj.fun()`）调用，this指向该对象。
- 如果函数作为构造函数调用（通过new关键字`xxx = new Obj()`），this指向由构造函数创建的新对象。
- 如果函数使用call()、apply()或bind()方法改变内部值域，this指向作为参数传递的对象。

## 3. 箭头函数中的this

箭头函数没有自己的this，它会继承当前上下文中的this值。这意味着在箭头函数中，this指向定义时的外层作用域中的this。

::: tip 注意

需要注意的是，为了避免this的指向问题，可以使用bind()、call()、apply()等方法显式地设置函数的this值。另外，在ES6中，可以使用箭头函数来避免this指向问题。

:::
